package slice

import (
	"strings"
	"testing"

	"github.com/stretchr/testify/assert"
)

func Test_First(t *testing.T) {
	vals := []string{"a", "b", "b1", "b1x", "b3", "c"}

	first, found := First(
		vals,
		func(s string) bool { return strings.HasPrefix(s, "b") },
		func(s string) bool { return len(s) >= 2 },
	)
	assert.Equal(t, "b1", first)
	assert.True(t, found)

	first, found = First(
		vals,
		func(s string) bool { return strings.HasPrefix(s, "b") },
		func(s string) bool { return len(s) >= 1 },
	)
	assert.Equal(t, "b", first)
	assert.True(t, found)

	first, found = First(
		vals,
		func(s string) bool { return strings.HasPrefix(s, "b") },
		func(s string) bool { return len(s) >= 10 },
	)
	assert.Equal(t, "", first)
	assert.False(t, found)

	first, found = First(vals)
	assert.Equal(t, "a", first)
	assert.True(t, found)

	first, found = First([]string{})
	assert.Equal(t, "", first)
	assert.False(t, found)
}
